<!--
  Generated template for the AccountPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>account</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item>
    <ion-avatar item-left>
      <img class="avatar" src="{{Avatar}}" alt="">
    </ion-avatar>
    <ion-label>{{Login}}</ion-label>
  </ion-item>
  <button ion-button icon-only class="update_button" (click)="update()">
    <ion-icon name="md-refresh"></ion-icon>
  </button>
  <ion-card>
    <ion-card-content>Добро пожаловать <b>{{FirstName}} {{ThirdName}}</b> в ваш аккаунт.
      Здесь вы можете опубликовать свои услуги как парикмахера и вести учет заявок ваших клиентов!</ion-card-content>
  </ion-card>

  <!--Загрузить аватарку если она не загружена-->
  <div *ngIf="!cond">
    <ion-title>Загрузите вашу аватарку</ion-title>
    <form [formGroup]="form" (ngSubmit)="LoadAvatar()">
      <ion-item>
        <ion-label>Ссылка</ion-label>
        <ion-input type="text" formControlName="avatar"></ion-input>
      </ion-item>
      <button ion-button type="submit" color="secondary" class="form_button" full>Сохранить</button>
    </form>
  </div>

  <button *ngIf="!publicCond" class="public_offer" ion-button full (click)="openPublicPage(user_id)">Опубликовать свою услугу</button>

  <ion-card *ngIf="publicCond">
    <ion-card-content style="color:darkgreen; font-weight: bold;">
      Ваша услуга опубликованна, можете вести учет заказов
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="!publicCond">
    <ion-card-content>Вы сможете вести учет заявок только после публикации своей услуги</ion-card-content>
  </ion-card>

    <div *ngIf="publicCond">
      <ion-item>
        <ion-label class="offers">Заказы</ion-label>
      </ion-item>

      <ion-card *ngIf="!OrderData">
        <ion-card-content>{{OrderInfo}}...</ion-card-content>
      </ion-card>

          <button *ngFor="let order of OrderData" (click)="ShowPhone(order.phone)" ion-button icon-left class="order_button" full outline color="secondary">
            <ion-icon name="ios-briefcase"></ion-icon>
            <ion-label class="order_label">Номер заказа: {{order.id}}</ion-label>
            <p>{{order.client}}</p>
            <em class="order_time">14:00</em>
          </button>


    </div>


</ion-content>
